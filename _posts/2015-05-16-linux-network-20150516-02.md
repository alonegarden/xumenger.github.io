---
layout: post
title: Linux网络管理2---（网络环境查看命令、网络测试命令）
categories: linux之常用命令 linux之基础 深入学习之网络原理
tags: linux shell 命令行 网络
---


## 1.网络环境查看命令

### ifconfig命令

查看或临时修改网络状态的命令

可以看到IP、子网掩码……信息

### 关闭和启动网卡

ifdown 网卡设备名（比如： ifdown eth0）：禁用该网卡设备

ifup 网卡设备名：启用该网卡设备

### 查询网络状态：netstat

选项：

* -t：列出TCP 协议端口
* -u：列出UDP协议端口
* -n：不使用域名与服务名，而使用IP地址和端口号
* -l：仅列出在监听状态网络服务（所有UDP服务都没有监听状态，因为TCP是三次握手，需要等待反馈信息，而UDP就不需要）
* -a：列出所有的网络连接

**netstat -rn：**

-r：列出路由列表，功能和route 命令一致

### route命令：

route -n：查看路由列表（可以看到网关）

route add default gw 192.168.1.1：临时设定网关

### 域名解析命令

nslookup [主机名或IP]：进行域名与IP 地址解析

例如：nsloopkup www.baidu.com，可以查看www.baidu.com的IP地址……信息

先输入命令nslookup，进入交互模式，再在> 输入server，可以查看本机DNS服务器

 
## 2.网络测试命令

### ping命令

ping IP地址或域名：探测指定IP 或域名的网络状况，ping的IP给我的回应时间越短，说明网络状况越好！有的网站是禁止其他机器来ping 它的

-c 次数：指定ping 包的次数

### telnet命令

一个远程管理命令，但是是不加密的，所以已经被加密的SSH 协议取代了

telnet IP地址：尝试远程登陆服务器进行远程管理，但是一般它的端口被默认关闭了

虽然现在不用它来做远程管理，但是现在使用它来探测远程端口

telnet [域名或IP] [端口]：远程管理与端口探测命令，例如：telnet 192.168.0.252 80，探测不到的话可能是对方没有打开这个端口服务，或者使用防火墙来进行”防火“

### traceroute [选项] IP或域名

路由跟踪命令

-n：使用IP，不使用域名，速度更快（因为不需要进行DNS域名解析的过程）

traceroute和ping命令一样，都是使用的ICMP协议（Internet 控制报文协议）来进行远程探测

### wget 下载文件的url地址

下载文件的命令

### tcpdump

tcpdump -i eth0 -nnX port 21，可以监听21端口（FTP服务），在用户使用ftp命令登陆的时候，可以使用tcpdump抓包，通过抓到的包，可以看到该用户的用户名和密码（因为ftp协议也是明文的），所以可以看出来在网络环境中，想telnet、ftp、http这种明文的协议是比较不安全的（密码安全）

所以使用这条命令来抓取网络包，进行分析可以获取一些比较敏感的数据，比如密码……

* -i：指定网卡接口
* -nn：将数据包中的域名与服务转为IP和端口
* -X：以16进制和ASCII码显示数据包内容
* port：指定监听的端口

 

 