---
layout: post
title: 第一次吃Mongo
categories: 数据库之mongodb python之数据库编程
tags: 数据库 NoSQL SQL mongodb mac python brew
---

## 搭建开发环境

我是在Mac OS环境上做的测试，首先是安装mongodb

```
$ brew update
$ brew install mongodb
```

如何现在你就`mongodb`尝试启动会报错

![image](../media/image/2017-12-16/01.png)

在启动mongodb之前，需要创建一个目录，为mongodb默认的数据写入目录（默认为根目录下的/data/db），并且给可读可写权限

```
$ sudo mkdir -p /data/db
$ sudo chown `id -u` /data/db
```

然后启动mongodb服务即可

```
$ mongod
```

另外开启一个新的终端，执行下面的命令就可以连接到mongodb数据库

```
$ mongo
```

然后选择使用Python3来操作MongoDB，所以需要安装驱动

```
pip3 install pymongo
```

## 在命令行操作MongoDB

上面安装配置好mongodb后，就可以开始在命令行进行测试了（`mongod`开启服务，`mongo`连接到服务进行操作）

下面总结mongodb本身的一些命令

```
# 查询所有的数据库
> show dbs


# 查询当前数据库下所有表
> show collections


# 切换进数据库testDB，如果没有则新建一个
> use testDB


# 进入testDB
> use testDB
# 删除数据库
> db.dropDatabase();


# 进入数据库
> use testDB
# 如果有表则插入数据，否则新建表并插入数据（若未指定数据库，则默认创建在test库中）
> db.testTable.insert({name:'xumenger', age:24});
# 删除testTable
> db.testTable.drop()


# 单表的增删改
> use testDB
> db.testTable.insert({name:'xumenger', age:24});
# 新增
> db.testTable.insert({name:'joker', age:24});
# 修改
> db.testTable.update({name:'xumenger'}, {$set:{age:25}});
# 删除
> db.testTable.remove({name:'xumenger'});


# 查询myTable中所有数据
> db.testTable.find();
# 按age升序
> db.testTable.find().sort({age:1})
# 查询
> db.testTable.count();
```

>建议自己运行一下，根据输出感受一下效果

![image](../media/image/2017-12-16/02.png)

## 


## MongoDB和传统关系型数据库


## 参考资料

* [《Mac下使用brew安装mongodb》](http://blog.csdn.net/moumaobuchiyu/article/details/54885306)

