---
layout: post
title: Java中的Class和Object
categories: 大型系统架构 java之面向对象
tags: Java JVM 虚拟机 类加载器 编译原理 C++ 面向对象 Class Object 类加载机制 元数据 
---

下面一个例子展示Java 中Class 和Object 这两个类的使用方法例子

```java
public class Test {
    public static void main(String[] args) throws InstantiationException, IllegalAccessException {
        Tom tom = Create_1(Tom.class);
        System.out.println(tom.name);

        Person p = Create_2(James.class);
        James james = (James)p;
        System.out.println(james.name);

        Object o = Create_3(Tom.class);
        Tom tom2 = (Tom)o;
        System.out.println(tom2.name);

        Object o2 = Create_4(James.class);
        James james2 = (James)o2;
        System.out.println(james2.name);

        Object o3 = Create_5(new Tom());
        Tom tom3 = (Tom)o3;
        System.out.println(tom3.name);
    }

    public static<T> T Create_1(Class<T> cls) throws InstantiationException, IllegalAccessException {
        // System.out.println("");
        System.out.println("Create_1");
        System.out.println(cls);
        return cls.newInstance();
    }

    public static Person Create_2(Class<? extends Person> cls) throws InstantiationException, IllegalAccessException {
        System.out.println("");
        System.out.println("Create_2");
        System.out.println(cls);
        return cls.newInstance();
    }

    public static Object Create_3(Class cls) throws InstantiationException, IllegalAccessException {
        System.out.println("");
        System.out.println("Create_3");
        System.out.println(cls);
        return cls.newInstance();
    }

    public static Object Create_4(Class<?> cls) throws InstantiationException, IllegalAccessException {
        System.out.println("");
        System.out.println("Create_4");
        System.out.println(cls);
        return cls.newInstance();
    }

    public static Object Create_5(Object object) throws InstantiationException, IllegalAccessException {
        System.out.println("");
        System.out.println("Create_5");
        Class cls = object.getClass();
        System.out.println(cls);
        return cls.newInstance();
    }
}

abstract class Person {
    public String name = "";
    public int age = 0;
}

class Tom extends Person {
    public String name = "name = Tom";
    public int age = 20;
}

class James extends Person {
    public String name = "name = James";
    public int age = 25;
}
```

编译运行效果是这样的

![](../media/image/2018-10-09/01.png)

