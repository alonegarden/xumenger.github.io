---
layout: post
title: Java Web开发：Spring MVC
categories: java之web开发 java之web框架 python之web开发
tags: Java Servlet Python Web MVC Spring SpringMVC Struts1 Struts2 maven jar 
---

Spring MVC 是Spring 框架的重要模块，借助于Spring 的容器技术，可以非常方便的搭建Web 项目。使用Spring 可插入的MVC 架构，从而在使用Spring 进行Web 开发时，可以选择使用Spring 的Spring MVC 框架或集成其他的MVC 框架，比如Struts1、Struts2 等

## 搭建Spring MVC开发环境

Spring MVC 是一个和Struts2 一样的基于MVC 设计模式的Web 框架，并且继承了MVC 的优点，是基于请求驱动的轻量级Web 框架，Spring MVC 可以认为是Spring 其中的一个Web 扩展，小巧灵活，但功能强大，可以直接传入Servlet API 使用起来开发会比较方便，并且通过配置注解的方式，很轻松的对Web 资源进行管理，提高了开发的速度和应用程序的可维护性

使用Spring MVC 可以设计出干净的Web 层。目前非常流行的就是SSM 的这种整合，就是Spring + Spring MVC + MyBatis 的结合，这样更适合复杂的企业级Web 应用

【File】->【New】，创建一个Maven 项目

![](../media/image/2019-01-06/02-01.png)

Next，选择maven-archetype-webapp

![](../media/image/2019-01-06/02-02.png)

Next，输入Group Id、Artifact Id

![](../media/image/2019-01-06/02-03.png)

finish 后，Maven 项目创建完成！

把Maven 项目转换为Web Project！在项目上右键->【Properties】->【Project Facets】

![](../media/image/2019-01-06/02-04.png)

点击【Convert to faceted form...】，选中Java、Dynamic Web Module

![](../media/image/2019-01-06/02-05.png)

Apply，现在项目目录结构是这样的

![](../media/image/2019-01-06/02-06.png)

完成以上步骤，我们的工程就是一个Web项目了



以上的步骤主要参考[https://www.cnblogs.com/Ming8006/p/6346712.html?utm_source=itdadao&utm_medium=referral](https://www.cnblogs.com/Ming8006/p/6346712.html?utm_source=itdadao&utm_medium=referral)，其中有这样一幅图展示了一个HTTP 请求到来后，在代码层面的跳转逻辑

![](../media/image/2019-01-06/source.png)

## Spring MVC初始化的流程

Spring MVC 项目启动时要完成Spring 容器的初始化和Spring MVC 配置的初始化

![](../media/image/2019-01-06/start.png)

## Spring MVC处理HTTP请求的流程

![](../media/image/2019-01-06/http.png)

>参考自[https://www.cnblogs.com/leskang/p/6101368.html](https://www.cnblogs.com/leskang/p/6101368.html)

1. 客户端发起请求到前端控制器DispatcherServlet
2. 前端控制器请求HandlerMapping找Handler（可根据xml或注解查找）
3. 处理器映射器HandlerMapping向前端控制器返回Handler
    * HandlerMapping会把请求映射为HandlerExecutionChain对象
    * 包含一个Handler处理器（页面控制器）对象、多个HandlerInterceptor拦截器对象
    * 通过这种策略模式，很容易添加新的映射策略
4. 前端控制器调用处理器适配器去执行Handler
5. 处理器适配器HandlerAdapter将会根据适配的结果去执行Handler
6. Handler执行完成给适配器完成ModelAndView
7. 处理器适配器向前端控制器返回ModelAndView
    * ModelAndView是Spring MVC框架的一个底层对象，包括Model和View
8. 前端控制器请求视图解析器进行视图解析
    * 通过这种策略很容易更换其他视图技术，只需要更改视图解析器即可
9. 视图解析器向前端控制器返回View
10. 前端控制器进行视图渲染（视图渲染将模型数据填充到request域）
11. 前端控制器向用户返回响应结果

## 参考资料

* [springMVC请求流程详解](https://www.cnblogs.com/leskang/p/6101368.html)
* [Spring MVC 环境搭建（一）](https://www.cnblogs.com/shinejaie/p/5244258.html)
* [Spring MVC篇一、搭建Spring MVC框架](https://www.cnblogs.com/Captain-Run/p/46c2e33aabb5270136c4bdbc9b52b1f6.html)
* [零配置简单搭建SpringMVC 项目](https://www.cnblogs.com/beiyan/p/5942741.html)
* [使用SpringMVC搭建第一个项目](https://www.cnblogs.com/demodashi/p/8481560.html)
* [通过eclipse配置Spring MVC项目](https://www.cnblogs.com/freeweb/p/5100309.html)
* [Eclipse开发SpringMVC简单小程序](https://blog.csdn.net/qq_26584263/article/details/72896058)
* [SpringMVC HelloWorld实例开发及部署](https://www.cnblogs.com/Ming8006/p/6346712.html?utm_source=itdadao&utm_medium=referral)
* [搭建Spring MVC 4开发环境八步走](http://www.itboth.com/d/6naYfe/apache-java-mvc-tomcat-spring)
